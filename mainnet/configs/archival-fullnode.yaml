# Movement Network Mainnet - Archival Fullnode Configuration
#
# An archival node maintains complete blockchain history by disabling ledger pruning.
# Use this configuration when you need:
#   - Complete transaction history from genesis
#   - Historical state queries
#   - Full blockchain data for indexers
#
# Download genesis files from the parent directory (mainnet/):
#   - genesis.blob
#   - waypoint.txt
#   - genesis_waypoint.txt
#
# To bootstrap with existing data, use l1_restore.sh to restore from Movement Labs backups.

base:
  role: "full_node"
  data_dir: "/opt/aptos/data"
  waypoint:
    from_file: "/opt/aptos/waypoint.txt"

execution:
  genesis_file_location: "/opt/aptos/genesis.blob"
  genesis_waypoint:
    from_file: "/opt/aptos/genesis_waypoint.txt"

storage:
  rocksdb_configs:
    enable_storage_sharding: false
  # ARCHIVAL NODE: Disable ledger pruning to maintain complete blockchain history
  storage_pruner_config:
    ledger_pruner_config:
      enable: false

full_node_networks:
  - network_id: "public"
    discovery_method: "none"
    listen_address: "/ip4/0.0.0.0/tcp/6182"
    seeds:
      9967EBF40AC8C2CCB38709488952DA1826176584EA3067B63B1695362ECB3D1F:
        addresses:
          - "/dns/consensus.mainnet.movementnetwork.xyz/tcp/6182/noise-ik/9967EBF40AC8C2CCB38709488952DA1826176584EA3067B63B1695362ECB3D1F/handshake/0"
        role: "Upstream"

api:
  enabled: true
  address: 0.0.0.0:8080

state_sync:
  state_sync_driver:
    bootstrapping_mode: DownloadLatestStates
    continuous_syncing_mode: ApplyTransactionOutputs
